{% extends 'base.html' %} {% block content %}

<div class="max-w-4xl mx-auto">
  <div class="mb-6">
    <a
      href="{{ url_for('index', source=source) }}"
      class="text-sm text-gray-400 hover:text-red-600 transition-colors"
    >
      <i class="fas fa-arrow-left mr-2"></i>Kembali
    </a>
  </div>

  <div
    class="bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden mb-8"
  >
    <div class="p-6 sm:p-8">
      <h1 class="text-3xl font-bold text-gray-900 mb-2">
        {{ episodes[0].title.split('Episode')[0] if episodes else 'Anime
        Details' }}
      </h1>
      <p class="text-gray-400 text-sm mb-6">{{ anime_url }}</p>

      <div class="border-t border-gray-100 pt-6">
        <h3 class="text-lg font-bold text-gray-900 mb-4">Daftar Episode</h3>

        <div
          class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4"
        >
          {% for ep in episodes %}
          <a
            href="{{ url_for('watch_episode', source=source, url=ep.url) }}"
            class="group relative flex flex-col bg-white rounded-xl border border-gray-100 p-4 transition-all duration-300 hover:scale-105 hover:shadow-xl hover:shadow-red-500/10 hover:border-red-100"
          >
            <div class="flex items-center justify-between mb-2">
              <span
                class="text-xs font-bold text-red-500 bg-red-50 px-2 py-1 rounded-full group-hover:bg-red-500 group-hover:text-white transition-colors"
                >EP {{ ep.title.split(' ')[-1] if 'Episode' in ep.title else
                loop.index }}</span
              >
              <i
                class="fas fa-play-circle text-gray-300 group-hover:text-red-500 transition-colors text-lg"
              ></i>
            </div>
            <h4
              class="font-medium text-gray-900 text-sm line-clamp-2 mb-0 group-hover:text-red-600 transition-colors"
            >
              {{ ep.title }}
            </h4>

            <!-- Glow Effect -->
            <div
              class="absolute inset-0 rounded-xl bg-gradient-to-tr from-red-500/5 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 pointer-events-none"
            ></div>
          </a>
          {% endfor %}
        </div>

        {% if not episodes %}
        <div class="text-center py-8 text-gray-400">
          Belum ada episode ditemukan.
        </div>
        {% endif %}
      </div>
    </div>
  </div>
</div>

{% endblock %}
